## 2025-02-18

* 'Real MySQL 8.0 (1)' - 9장 옵티마이저와 힌트
    1. 옵티마이저?
        * 쿼리의 최적화, 실행 계획을 수립을 진행함
        * MySQL은 기본적으로 비용 기반 최적화 진행행
    2. 기본 데이터 처리
        * 풀 테이블 스캔, 풀 인덱스 스캔
            * 인덱스를 제대로 활용할 수 없는 상황에는 풀 테이블 스캔을 진행한다.  
        * 병렬 처리
            * 옵션을 통해 스레드의 개수를 설정 가능. 
        * ORDER BY 처리 (using sort)
            * 정렬을 위한 메모리 공간을 Sort buffer하고 함.
            * 조회할 컬럼을 모두 가져오고 난 뒤 정렬하는 방법(싱글 패스 정렬)과 정렬에 필요한 컬럼 값만 가져와서 정렬하고 나머지 컬럼들을 가져오는 방법(투 패스 정렬)이 있음
            * 정렬 처리 방법에는 인덱스 이용, 조인 드라이빙 테이블만 정렬, 조인된 결과를 임시 테이블에 저장하고 정렬하는 방법이 있음.
        * GROUP BY 처리
            * 인덱스 스캔 이용(드라이빙 테이블의 컬럼으로만 그루필 할 때), 루스 인덱스 스캔(주로 MIN(),MAX()에 사용되며 WHERE 조건 절에 따라 달라짐), 임시 테이블 사용(인덱스를 전혀 사용할 수 없는 경우)
        * DISTINCT 처리
            * select 절에 사용시 유니크한 '레코드'를 기준으로 조회하고, 집합 함수와 사용시 사용된 '컬럼'의 유니크한 값을 가져옴옴
        * 내부 임시 테이블 활용
            * 임시 테이블의 크기에 따라 MMAP파일로 디스크에 기록하거나, InnoDB에 테이블로 기록한다. (둘 다 사용뒤 바로 삭제됨)
    3. 고급 최적화
        * 옵티마이저 스위치 옵션: 서버, 커넥션, 쿼리 단위로 옵션값 설정 가능
        * Block Nested Loop Join: 드라이빙 테이블 조회 결과를 조인 버퍼에 저장해두고 드리븐 테이블과 조인함
        * Index Condition Pushdown: 조건절의 컬럼과 인덱스의 컬럼이 같으면 인덱스 레인지 스캔 후, 인덱스로 필터링까지 진행해서 필요한 레코드만 읽어옴
        * Use Index Extensions: PK인덱스와 세컨더리 인덱스를 둘 다 사용함함


### ToDoList
* '도메인 주도 개발 시작하기' 읽기
* Pinpoint 설치 및 공부 해보기
* 로깅 정책&라이브러리 알아보기
